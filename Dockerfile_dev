# Use an official Ubuntu base image
FROM ubuntu:22.04

# Set environment variables
ENV DEBIAN_FRONTEND=noninteractive
ENV LANG=C.UTF-8

# Update the package index and install basic tools
RUN apt-get update && apt-get install -y \
    wget \
    curl \
    git \
    zip \
    unzip \
    software-properties-common \
    && rm -rf /var/lib/apt/lists/*

# Install Quarto
RUN wget https://github.com/quarto-dev/quarto-cli/releases/download/v1.7.5/quarto-1.7.5-linux-amd64.deb \
    && dpkg -i quarto-1.7.5-linux-amd64.deb \
    && rm quarto-1.7.5-linux-amd64.deb

# Install LaTeX (minimal setup)
RUN apt-get update && apt-get install -y \
    texlive-base \
    texlive-latex-extra \
    texlive-fonts-recommended \
    texlive-fonts-extra \
    texlive-xetex \
    && rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /Grocery-Basket-Recommender

# Expose default Quarto port
EXPOSE 8000

# Entrypoint for interactive work
CMD ["/bin/bash"]
